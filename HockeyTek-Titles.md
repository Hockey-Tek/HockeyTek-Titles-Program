## Программное обеспечение HockeyTek Titles
### Назначение
Программно-аппаратный комплекс предназначен для создания и наложения графики на видеопоток в режиме реального времени. Обеспечивает наложение оперативной информации о ходе игры, включая статистические данные о событиях и игроках, а также рекламные баннеры. Вывод динамически изменяющейся информации во время трансляции, такой как текущее время, удаления, забитые шайбы и другие важные события. Использование флеш-анимации для создания эффектного визуального оформления. Оперативное управление вещанием, позволяющее операторам легко контролировать процесс титрования, автоматическую загрузку и выполнение расписаний, что упрощает организацию трансляций. Многослойное анимированное оформление видеопотока для создания привлекательного и информативного визуального опыта для зрителей. Автоматизацию в соответствии с правилами игры и регламентом лиги, обеспечивая точность и надежность во время трансляции.
#### Область применения
Программно-аппаратный комплекс для создания и наложения информационной графики на видеопоток. Отображение оперативной информации об игре, вывод статистических данных о событиях, игроках, Рекламный блок с контролем времени показов.
Комплекс состоит из двух частей:
- графического пакета лиги, хранящегося на сервере
- программного обеспечения, работающего с графическим пакетом<br>

Ввод информации о матче может осуществляться как в ручном режиме, так и в автоматическом (при наличии базы данных лиги).
Програмное обеспечение имеет интуитивно понятный интерфейс управления, позволяющий подготовить данные по текущей игре в течение 20 минут. Наличие базы данных лиги сокращает подготовку к матчу до 5 минут.
Автоматизирован ряд правил игры и судейства, что исключает ошибки вывода графики оператором в прямом эфире. Наличие подключенного модуля Hockey Tek Судья позволяет оператору графики не сосредотачиваться на временные промежутки и события игры. Остановки времени, штрафы игрокам и их время, авторы шайбы и их ассистенты будут отображаться автоматически. В любой момент, оператор графики может вносить коррективы в информацию матча.
В процессе игры программа выполняет ряд проверок, не позволяющих вносить неверную информацию или неправильную последовательность действий оператором графики. Флеш-анимация титров загружена в программу и не может быть изменена третьими лицами.
Формирования графики может быть как минимальным: счет, периоды и время, броски в створ ворот, удаление и информация по удаленным, тайм-аут, пустые ворота, так и в расширенном режиме: выводится полная статистка по командам составам, игрокам, рекламами банерами спонсоров и т.д.
Для успешной работы программы требуется компьютер с системой Windows 10 64 бит, процессором Intel i3, 4 GIg оперативной памяти, свободный USB порт, наличие локальной сети.
Графический пакет разрабатывается или адаптеруется по материалам заказчика нашими дизайнерами, согласовывается с заказчиком и выгружается на сохранения и доступ в облачное хранилище на сервера HockeyTek.
При запуске, программа предоставляет выбор доступных графических пакетов для оператора титрования. Вы может работать с различными графическими пакетами лиг по своему усмотрению. Доступ к графическим пакетом осуществляется по номеру лицензионного ключа и не может быть изменен оператором титрования.

## Установка программного обеспечения HockeyTek Titles

### Минимальные системные требования для установки ПО, предъявляемые к компьютеру:

- Windows 10 64-бит.
  - возможна установка на MAC OS X с помощью Parallels или VMware Fusion
- 4-х ядерный процессор серий i5 или i7
- 4 Гб оперативной памяти
- 100 Мб свободного места на диске
- .Net Framework 4.5
- монитор 1080HD (1920 x 1080 pixels)
- свободный USB порт, для подключения ключа защиты

## Порядок установки

> Работа программного обеспечения возможна только при наличия Guardant ключа защиты в USB порту
> Guardant - это аппаратный USB ключ защиты, который обеспечивает безопасность программного обеспечения

Загрузите актуальную версию программного обеспечение HockeyTek и драйверов аппаратного ключа Guardant от поставщиков

> Актуальные версии ПО HockeyTek Титры [загрузить](https://github.com/Hockey-Tek/HockeyTek-Titles/releases)

> Актуальные версии драйверов аппаратного ключа Guardant [загрузить](https://www.guardant.ru/license/?HTTP_REFERER=/support/users/download/675/)

Убедитесь, что ваша система соответствует требованиям программного обеспечения. Установите все необходимые обновления для операционной системы Windows 10

### Установите драйвера аппаратного ключа Guardant в вашу систему Windows 10

- Вставьте аппаратный ключ Guardant в доступный USB-порт компьютера

  > Аппаратный ключ Guardant должен быть вставлен в свободный USB-порт компьютера. Статус аппаратного ключа Guardant можно проверить визуально

- Дождитесь, пока операционная система Windows 10 автоматически распознает и установит драйверы для аппаратного ключа

  > [!WARNING]
  > Мигание светодиода в ключе, обозначает "нет готовности к работе", ключ не видится системой, нет инициализации. Проверьте установку драйверов. 99% данная ошибка возникает из за неверно установленных драйверов аппаратного ключа<br>
  > Ровное свечение светодиода в ключе обозначает готовность к работе.

- Запустите установочный файл программного обеспечения. Следуйте инструкциям мастера установки.
  > В процессе установки могут потребоваться установка дополнительных библиотек. Инсталлятор предложит их установить, согласитесь. В случае, если дополнительные библиотеки были установлены ранее, перезаписывать их не требуется

После успешного запуска программы, Вы увидите окно выбора списка графических пакетов доступных к использованию

<img width="325" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/4bc18022-cda0-47b9-855a-0021c0f18b35">

Следите, что бы аппаратный ключ Guardant остается подключенным в процессе использования программы, иначе получите ошибку отсутствия ключа защиты

<img width="305" alt="error_dongl" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/5defc3bd-5ec7-42dd-8ac8-827f7dc4c3b2">

---

> [ВНИМАНИЕ]
> Ошибка отсутствия активного пакета графики

<img width="218" alt="error_gra" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/7acd6350-a84a-4aeb-aee0-acf7541678dc">

Возникает в результате отсутствия лицензии для графического пакета(ов)

### Для активации пакетов, согласно вашей подписке, нужно сообщить в поддержку номер ID ключа
Узнать IDномер ключа, можно следующим способом
- установите драйвера аппаратного ключ Guardant, как было описано выше
- вставьте аппаратный ключ Guardant в доступный USB-порт компьютера
- запустите утилиту для чтения информации о ключе

  > скачайте утилиту для чтения информации о ключе можно [тут](https://github.com/Hockey-Tek/HockeyTek-Tools/blob/soft/Key%20info.zip "Утилита для чтения ID номера")

* в открывшемся окне найдите ID ключа и скопируйте его

<img width="598" alt="ID_key" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/0d02e034-cb5c-4c30-9a52-55ad83d32084">

> В даном примере это **1054954531d**

Номер ключа сообщите в тех поддержку HockeyTek, любым доступным способом

- поддержка активирует вам графический пакет для дальнейшей работы с ПО

> [ПРИМЕЧАНИЕ]
> Доступные для вашего ID графические пакеты, можно посмотреть в разделе Настройки - Лицензия программы HockeyTek

## Подготовка фотографий и логотипов для использования в программе HockeyTek Titles
- Допустимый формат материалов, файлы PNG с прозрачностью
### Подготовка логотипов
- Логотипы подготавливаются в формате PNG файл, с прозрачностью 
- Разрешение 1000х1000 пикселов  
- Цветовое пространство sRGB
- Отступы безопасности от каждого края ≈ 40 пикселов

<img width="70%" alt="Подготовка логотипов" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/6392c8b7-0497-49ab-8e76-e928ee16afc7">

### Подготовка фото игрока
- Логотипы подготавливаются в формате PNG файл, с прозрачностью 
- Разрешение 700х500 пикселов  
- Цветовое пространство sRGB
- Отступы безопасности от каждого края ≈ 20 пикселов

<img width="70%" alt="Подготовка фото игрока" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/75bce6bc-8f22-412f-b1bd-54526ca57f51">

#### Подготовка фото игрока для передачи в базу Лиги

- Открыть вебсайт Лиги (КХЛ, МХЛ, ВХЛ)  
- Зайти в раздел “Игроки”
- Выбрать интересующего игрока по Фамилии, Имени 
- Скопировать его ID номер из адресной строки браузера

<img width="70%" alt="ID номер игрока" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/942f03b4-2b66-4afe-b454-670f1a2b239a">

- Переименовать фото интересующего игрока в формате  ххххх.png (где ххххх - это ID номер игрока)
  > В данном примере, это выглядело бы как 19066.png
- Передать фото в поддержку HockeyTek или представителю прес-службы Лиги

## Интерфейс программы HockeyTek Titles
### Исходные данные
Вкладка работы с базой данных программного комплекса. 
Включает в себя:
- Команды
- Площадки
- Судьи
- Комментаторы
- Стадии чемпионата
- Лиги  
- Страны
- Нарушения
### Создать встречу
Окно интерфейса по формированию текучей встречи
Включает в себя:
- Событие
- Общие
- Комментаторы
- Судьи
- Выбор домашней команды и ей состава на встречу
- Выбор гостевой команды и ей состава на встречу
### Управление графикой
Окно интерфейса по управлению титровальной графикой текучей встречи<br>
Состоит из двух вкладок
- Информационная
  - Предматчевые события
  - Информационные события
  - Послемаьчевые события
- Оперативная<br>
Вкладка оперативной графики титрования эфира
### Индикаторы состояния сетевых интерфейсов
- Подключения к серверу Баз Даннх лиги
- Подключения к удаленному матч контроллеру
### Иконка вызова окна настроек программы HockeyTek Titles
### Иконка отображения окна программы на полный экран
### Иконка вызова информации об версии HockeyTek Titles

## Вкладка "Исходные данные"
### Команды. Составы
Вкладка "Команды" содержит в себе список команд, которые заявлены в лиге.<br>
Добавление команд осуществляется в двух режимах
 - Ручном
 - Автоматическом 
 > В автоматическом режиме, данные об командах и игроках загружаются с базы данных лиги.<br> 
 Для доступа к базе данных лиги и автоматической загрузке, у вас должен быть выбран "провайдер базы данных" той лиги с которой вы работает.<br>
 Для выбора провайдера базы данных зайдите в Настройки - Провайдер данных (1).<br>
 В выпадающим списке "Плагин" выберите модуль (2), подключающий HockeyTek Titles к нужной вам базе данных.<br>
 В некоторых плагинах есть опция загрузки данных на определенных языках(3)<br>
 Русский - ИВАН ПЕТРОВ<br>
 English - IVAN PETROV<br>

 🛑 В случае отсутствия в списке "Плагин" модуля провайдера данных вашей лиги, свяжитесь с поддержкой HockeyTek для подключения вашего ключа к Базе лиги (потребуется ID номер вашего ключа)
 
<img width="70%" alt="драйвер данных" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/4badb687-0d30-45a5-93b2-a57f9920bf21">

#### Ручное добавление команды
- Нажать на иконку "плюс" (1) в секции Команды
- В открывшемся окне добавить:
  - Подготовленный логотип команды в формате .PNG (2)
  - Название команды
  - Сокращенный код команды
    > Допускается ввод до 6 символов. Обычно принято 3 символа
  - Страна откуда команда
  - Город откуда команда
  - Первый цвет команды
  - Второй цвет команды
    >Цвета команды выбираются по цвету формы играющих команд. В противном случае из цвета логотипа команды. Наболев распространенные сочетания цветов посмотреть можно [тут](/Users/alex.filik/Downloads/Temp/HockeyTekTitles_manual/цвета-команд.png "Цвета команд КХЛ")

<img width="70%" alt="Окно добавления команды в ручном режиме" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/4a920aec-2b1e-4f9c-90b9-0c142aeb7bcd">

#### Ручное добавление игроков команды
- Выбирать команду для добавления игрока
- Выбрать секцию амплуа игрока для добавления
- Нажать на иконку "плюс" в выбранной секции
- В открывшемся окне добавить данные игрока:
  - Подготовленную фотографию игрока в формате .PNG
  - Имя
  - Фамилия
  - Страну игрока их выпадающего списка
    >Если отсутствует нужная страна, нужно вернуться и предварительно добавить во Вкладке "Исходные данные" - "Страны"
  - Игровой номер
  - ✅ Амплуа игрока добавляется автоматически по выбранной секции
    >В случае изменения или ошибочно выбранной секции добавления по амплуа игрока, удалять его не нужно. Два раза щелкните мышкой по нужному игроку ( или правой кнопкой мыши вызовите контекстное меню и выберете "Редактировать"), поменяйте амплуа в ниспадающем списке "Амплуа". Программа автоматически перенесет игрока в нужную секцию амплуа команды. 

<img width="70%" alt="Окно выбора ввода данных" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/d0b94bc3-87c0-4ee5-a3ca-22278a552ab6">

#### Автоматическое добавление команды
🛑 Возможен только при выборе Провайдера данных в настройках программы
- Нажать на иконку "плюс" (1) в секции Команды
- Выбрать в окне "Автоматический ввод данных"

<img width="70%" alt="Окно выбора ввода данных" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/57606cea-d3a6-42ac-8c62-65024cdc2279">

- В открывшемся списке команд лиги выбрать интересующею вас команду

<img width="70%" alt="Окно выбора команды" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/b91629a4-867c-4ae3-b300-68549d41987e">

- Проверить правильность введенной информации
- Подтвердить выбор

Программа автоматически добавит команду и заявленных игарков команды
>🛑 Если фотографии игроков имеют какой либо фон, следует заменить фото такого игрока на изображения без заднего фона (с альфа каналом) в формате .PNG<br>
🟩 Программа не проверяет фотографии на наличие фона и работает с тем что у нее есть в базе.

<img width="70%" alt="Окно добавления команды в ручном режиме" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/a093b567-ca81-4737-8023-aa08433e168a">

### Информация о пиктограммах
Наличие пиктограмм "облачко" означает загруженные данные из облака Базы данных лиги

<img width="70%" alt="пиктограммы" src="https://github.com/Hockey-Tek/HockeyTek-Titles/assets/121510444/a2439f63-7613-43a1-aeb1-0764ba0024fd">

## Обновления состава команд с автоматическим вводом
Для обновления списка составов команд сделайте следующие:
- Выверите интересующую команду
- Правой конкой мыши вызовите контекстовое меню
- Выбрать пункт "Обновить"
Программа автоматически перезагрузит состав игроков команды, добавив отсутствующих игроков.
>🛑В случае замены фотографии игроков, загруженных из облака Базы данных, замененные фотографии руками, сохраняться.<br>

Все занесенные данные вкладки "Исходные данные" хранятся на локальном диске и могут удалены быть только оператором титрования. 
🛑 Программа ничего не удаляет и ничего не добавляет в базу без действий оператора титрования<br>

🟩 Данные всей базы хранятся по пути:<br> 
  >C:\Users\ИМЯ ПОЛЬЗОВАТЕЛЯ\AppData\Local\HockeyTek\HockeyTekTitles\database<br>

В случае перехода на другой компьютер, просто скопируйте и перенесите эти данные.

#### Отличия при ручном и автоматическом вводе.
- Время ввода команд в автоматическом режиме составляет примерно от 5 до 10 секунд
- При автоматическом вводе команд и игроков им присваивается ID согласно индекса в лиге<br>
При работе в эфире, программа по ID индексам запрашивает статистические данные команды или игроков лиги в реальном времени. 
- В ручном режиме ID индексы отсутствуют. Соответственно статистические данные у таких команд и игроков будут отсутствовать.
- Все данные приходиться вводить руками, что может сделано с ощибками.